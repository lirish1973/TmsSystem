@model TmsSystem.ViewModels.ShowOfferViewModel
@{
    ViewData["Title"] = "פרטי הצעת מחיר";
}

<div class="container mt-4">
    <div class="card">
        <div class="card-header bg-primary text-white">
            <h2><i class="fas fa-file-invoice-dollar"></i> הצעת מחיר #@Model.Offer.OfferId</h2>
            <p class="mb-0">נוצרה ב-@Model.Offer.CreatedAt.ToString("dd/MM/yyyy HH:mm")</p>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <h5>פרטי הלקוח</h5>
                    <p><strong>שם:</strong> @Model.Offer.Customer.FullName</p>
                    <p><strong>טלפון:</strong> @Model.Offer.Customer.Phone</p>
                    <p><strong>אימייל:</strong> @Model.Offer.Customer.Email</p>
                </div>
                <div class="col-md-6">
                    <h5>פרטי הטיול</h5>
                    <p><strong>טיול:</strong> @Model.Offer.Tour.Title</p>
                    <p><strong>תאריך:</strong> @Model.Offer.TourDate.ToString("dd/MM/yyyy")</p>
                    <p><strong>משתתפים:</strong> @Model.Offer.Participants</p>
                </div>
            </div>

            <div class="row mt-3">
                <div class="col-md-6">
                    <h5>מדריך</h5>
                    <p><strong>שם:</strong> @Model.Offer.Guide.GuideName</p>
                </div>
                <div class="col-md-6">
                    <h5>מחיר</h5>
                    <p><strong>מחיר לאדם:</strong> ₪@Model.Offer.Price.ToString("N2")</p>
                    <p><strong>סה"כ:</strong> ₪@Model.Offer.TotalPayment.ToString("N2")</p>
                </div>
            </div>

            @if (Model.PaymentMethod != null)
            {
                <div class="row mt-3">
                    <div class="col-12">
                        <h5>אמצעי תשלום</h5>
                        <p>@Model.PaymentMethod.METHOD</p>
                    </div>
                </div>
            }

            <div class="mt-4">
                <a href="@Url.Action("Index", "Offers")" class="btn btn-secondary">
                    <i class="fas fa-arrow-left"></i> חזרה לרשימה
                </a>
                <a href="@Url.Action("Edit", "Offers", new { id = Model.Offer.OfferId })" class="btn btn-warning">
                    <i class="fas fa-edit"></i> עריכה
                </a>
                <button onclick="window.print()" class="btn btn-info">
                    <i class="fas fa-print"></i> הדפסה
                </button>
            </div>
        </div>
    </div>
</div>